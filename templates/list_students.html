{% extends 'base.html' %}
{% block content %}
<body>
    <div class="container">
        <h1 class="namegr">{{ group_name }}</h1>

        {% if students %}
            <div class="ramka-1">
                <ol class="list_students">
                    {% for student in students %}
                        <li class="student-item">
                            {{ loop.index }}.
                            <span class="student-name">
                                {{ student.surename }} {{ student.name }} {{ student.middle_name }}
                            </span>
                            <input type="checkbox" name="selected_students" value="{{ student.id }}" class="student-checkbox">
                        </li>
                        <hr class="hli">
                    {% endfor %}
                </ol>
            </div>
            <div class="button-container">
                <button id="nextButton" class="btn btn-primary group_box">Далее</button>
            </div>
        {% else %}
            <div class="ramka-1" style="text-align: center; padding: 20px;">
                <p style="font-size: 20px; color: #5D5C60;">В этой группе нет студентов</p>
            </div>
        {% endif %}
    </div>

    <script>
        document.getElementById('nextButton').addEventListener('click', function() {
            const selectedCheckbox = document.querySelector('input[name="selected_students"]:checked');
            if (selectedCheckbox) {
                const studentId = selectedCheckbox.value;
                window.location.href = `/data-students/${studentId}`;
            } else {
                alert('Пожалуйста, выберите студента');
            }
        });
    </script>
</body>
{% endblock %}